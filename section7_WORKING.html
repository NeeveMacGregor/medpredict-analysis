<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Section 7 - Technology & Integration</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Lato', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      line-height: 1.5;
      color: #2D3748;
      background: #F7FAFC;
      padding-bottom: 80px;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Section Header */
    .section-header {
      background: linear-gradient(135deg, #2B7A8A 0%, #1e5a66 100%);
      color: white;
      padding: 30px;
      border-radius: 8px;
      margin-bottom: 20px;
    }

    .section-header h1 {
      font-size: 28px;
      margin-bottom: 8px;
    }

    .section-header p {
      font-size: 14px;
      opacity: 0.95;
    }

    /* Instructions */
    .instructions {
      background: #F3F4F6;
      border-left: 4px solid #2B7A8A;
      padding: 15px 20px;
      margin-bottom: 20px;
      border-radius: 6px;
      font-size: 14px;
      color: #374151;
      line-height: 1.5;
    }

    /* Quick Summary */
    .quick-summary {
      background: white;
      border: 2px solid #2B7A8A;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 30px;
    }

    .quick-summary h2 {
      color: #1F2937;
      font-size: 18px;
      margin-bottom: 12px;
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    .summary-item {
      padding: 12px;
      background: #F9FAFB;
      border-radius: 6px;
      border-left: 2px solid #2B7A8A;
    }

    .summary-label {
      font-size: 13px;
      color: #6B7280;
      margin-bottom: 4px;
    }

    .summary-value {
      font-size: 16px;
      font-weight: 700;
      color: #1F2937;
    }

    /* Content Sections */
    .content-section {
      background: white;
      border: 2px solid #2B7A8A;
      border-radius: 8px;
      padding: 25px;
      margin-bottom: 20px;
    }

    .content-section h2 {
      color: #1F2937;
      font-size: 18px;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid #F3F4F6;
    }

    .content-section h3 {
      color: #374151;
      font-size: 16px;
      margin: 15px 0 10px 0;
    }

    .content-section p {
      color: #1F2937;
      margin-bottom: 10px;
      font-size: 14px;
    }

    .content-section ul {
      margin: 0 0 15px 20px;
      color: #1F2937;
    }

    .content-section li {
      margin-bottom: 6px;
      font-size: 14px;
    }

    .content-section strong {
      color: #1F2937;
    }

    /* Tech Stack Box */
    .tech-box {
      background: #F9FAFB;
      border-left: 4px solid #2B7A8A;
      padding: 15px;
      margin: 15px 0;
      border-radius: 4px;
    }

    .tech-box h3 {
      color: #1e5a66;
      font-size: 16px;
      margin: 0 0 10px 0;
    }

    .tech-box p {
      margin-bottom: 8px;
    }

    .tech-box ul {
      margin: 8px 0 0 20px;
    }

    /* Workspace Divider */
    .workspace-divider {
      margin: 40px 0 30px 0;
      padding: 25px;
      background: #F0F9FF;
      border-radius: 12px;
      border: 2px solid #2B7A8A;
    }

    .workspace-divider h2 {
      color: #1e5a66;
      font-size: 22px;
      margin-bottom: 10px;
    }

    .workspace-divider p {
      color: #1F2937;
      font-size: 14px;
    }

    /* Analysis Cards */
    .analysis-card {
      background: #F0F9FF;
      background: #F0F9FF;
      border: 2px solid #2B7A8A;
      border-radius: 12px;
      margin-bottom: 20px;
      overflow: hidden;
    }

    .analysis-card.expanded {
      border-color: #2B7A8A;
    }

    .analysis-header {
      border-bottom: 2px solid #2B7A8A;
      padding: 20px;
      background: #F0F9FF;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.3s;
    }

    .analysis-header:hover {
    
    .analysis-header:focus {
      outline: 3px solid #2B7A8A;
      outline-offset: 2px;
    }
      background: #F0F9FF;
    }

    .analysis-header h3 {
      color: #1F2937;
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .expand-icon {
      font-size: 24px;
      color: #6B7280;
      transition: transform 0.3s;
    }

    .analysis-card.expanded .expand-icon {
      transform: rotate(180deg);
    }

    .analysis-body {
      display: none;
      padding: 20px;
      background: #F0F9FF;
    }

    .analysis-card.expanded .analysis-body {
      display: block;
    }

    .question-label {
      font-weight: 700;
      color: #1e5a66;
      font-size: 14px;
      margin-bottom: 6px;
      display: block;
    }

    .question-hint {
      font-size: 14px;
      color: #6B7280;
      margin-bottom: 8px;
      font-style: italic;
      line-height: 1.4;
    }

    .text-input {
      width: 100%;
      min-height: 150px;
      padding: 15px;
      border: 2px solid #D1D5DB;
      border-radius: 8px;
      font-family: inherit;
      font-size: 14px;
      line-height: 1.5;
      resize: vertical;
      transition: border-color 0.3s;
    }

    .text-input:focus {
      outline: 3px solid #2B7A8A;
      outline-offset: 2px;
      border-color: #2B7A8A;
      background: white;
    }

    .word-count {
      text-align: right;
      margin-top: 5px;
      font-size: 14px;
      color: #6B7280;
    }

    /* Additional Observations */
    .additional-observations {
      background: #F0F9FF;
      border: 2px solid #2B7A8A;
      border-radius: 12px;
      padding: 30px;
      margin-top: 30px;
    }

    .additional-observations h2 {
      color: #1e5a66;
      font-size: 22px;
      margin-bottom: 15px;
    }

    .additional-observations p {
      color: #1F2937;
      margin-bottom: 10px;
      font-size: 14px;
    }

    .additional-observations ul {
      margin: 12px 0 15px 25px;
      color: #1F2937;
    }

    .additional-observations li {
      margin-bottom: 6px;
      font-size: 14px;
    }

    /* Sticky Footer */
    .sticky-footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: white;
      border-top: 3px solid #E5E7EB;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 -4px 6px rgba(0,0,0,0.1);
      z-index: 900;
    }

    .footer-left {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .save-status {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      color: #6B7280;
    }

    .save-status.saved {
      color: #10B981;
    }

    .total-word-count {
      font-size: 14px;
      color: #6B7280;
    }

    .total-word-count strong {
      color: #2B7A8A;
      font-size: 16px;
    }

    .section-progress {
      font-size: 14px;
      color: #6B7280;
    }

    .download-btn {
      background: linear-gradient(135deg, #2B7A8A 0%, #1e5a66 100%);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .download-btn:focus {
      outline: 3px solid #2B7A8A;
      outline-offset: 2px;
    }

    .download-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(43, 122, 138, 0.4);
    }

    /* Progress Dots */
    .progress-dots {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin: 30px 0;
    }

    .progress-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #D1D5DB;
      transition: all 0.3s;
      cursor: pointer;
      padding: 16px;
      position: relative;
      display: inline-block;
      text-decoration: none;
    }
    
    .progress-dot::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #D1D5DB;
    }
    
    .progress-dot:hover::before {
      background: #9CA3AF;
      transform: translate(-50%, -50%) scale(1.3);
    }

    .progress-dot.active::before {
      background: #2B7A8A;
      transform: translate(-50%, -50%) scale(1.2);
      box-shadow: 0 0 0 3px rgba(43, 122, 138, 0.3);
    }
    
    .progress-dot.active:hover::before {
      background: #1e5a66;
      transform: translate(-50%, -50%) scale(1.3);
    }
    
    .progress-dot:focus {
      outline: 3px solid #2B7A8A;
      outline-offset: 2px;
    }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .sticky-footer {
        flex-direction: column;
        gap: 10px;
        padding: 15px;
      }

      .footer-left {
        flex-direction: column;
        gap: 10px;
        width: 100%;
      }

      .summary-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

<main>

<div class="container">
  
  <!-- Section Header -->
  <div class="section-header">
    <h1>Section 7: Technology & Integration</h1>
    <p>Review their technical architecture and integration approach</p>
  </div>

  <!-- Progress Dots -->
  <nav aria-label="Section navigation" class="progress-dots">
    <a href="section1_WORKING.html" class="progress-dot" aria-label="Section 1: Problem Definition & Rationale"></a>
    <a href="section2_WORKING.html" class="progress-dot" aria-label="Section 2: Input Analysis"></a>
    <a href="section3_WORKING.html" class="progress-dot" aria-label="Section 3: Stakeholder Analysis"></a>
    <a href="section4_WORKING.html" class="progress-dot" aria-label="Section 4: Process Analysis"></a>
    <a href="section5_WORKING.html" class="progress-dot" aria-label="Section 5: Output & Value Analysis"></a>
    <a href="section6_WORKING.html" class="progress-dot" aria-label="Section 6: Risk Analysis"></a>
    <a href="section7_WORKING.html" class="progress-dot active" aria-label="Section 7: Technology & Integration" aria-current="page"></a>
    <a href="section8_WORKING.html" class="progress-dot" aria-label="Section 8: Overall Assessment"></a>
  </nav>

  <!-- Instructions -->
  <div class="instructions">
    <div><strong>How this works:</strong> Review the Pharmacy Team's technology choices and integration plan below, then scroll down to answer the enhancement questions. Your work auto-saves as you type.</div>
    <div style="margin-top: 8px;"><strong>Note:</strong> Complete all 8 sections before clicking "Download Word Doc" at the bottom.</div>
  </div>

  <!-- Quick Summary -->
  <div class="quick-summary">
    <h2><span aria-hidden="true">üìã</span> Quick Summary</h2>
    <div class="summary-grid">
      <div class="summary-item">
        <div class="summary-label">Architecture</div>
        <div class="summary-value">Cloud-based</div>
      </div>
      <div class="summary-item">
        <div class="summary-label">ML Framework</div>
        <div class="summary-value">Python/TensorFlow</div>
      </div>
      <div class="summary-item">
        <div class="summary-label">Integrations</div>
        <div class="summary-value">Epic + Omnicell</div>
      </div>
      <div class="summary-item">
        <div class="summary-label">Infrastructure</div>
        <div class="summary-value">AWS cloud</div>
      </div>
    </div>
  </div>

  <!-- Technical Architecture -->
  <div class="content-section">
    <h2>üèóÔ∏è Proposed Technical Architecture</h2>
    
    <h3>System Components</h3>
    <ul>
      <li><strong>Data layer:</strong> AWS RDS (PostgreSQL) for storing historical data and predictions</li>
      <li><strong>ML layer:</strong> Python with TensorFlow/Keras for predictive models</li>
      <li><strong>Application layer:</strong> Django web framework for dashboard and APIs</li>
      <li><strong>Presentation layer:</strong> React.js for interactive user interface</li>
    </ul>

    <h3>Infrastructure</h3>
    <ul>
      <li><strong>Hosting:</strong> AWS EC2 instances in hospital's existing AWS environment</li>
      <li><strong>Security:</strong> VPC isolation, encryption at rest and in transit</li>
      <li><strong>Backup:</strong> Daily automated backups with 30-day retention</li>
      <li><strong>Scalability:</strong> Auto-scaling groups for handling peak loads</li>
    </ul>

    <h3>Why These Choices?</h3>
    <ul>
      <li>Hospital IT already uses AWS infrastructure</li>
      <li>Internal team has Python/TensorFlow experience</li>
      <li>Open-source stack reduces licensing costs</li>
      <li>Proven technologies with strong community support</li>
    </ul>
  </div>

  <!-- Integration Points -->
  <div class="content-section">
    <h2>üîó System Integration Strategy</h2>
    
    <div class="tech-box">
      <h3>Epic EHR Integration</h3>
      <p><strong>Purpose:</strong> Pull patient admission data, diagnosis codes, treatment protocols</p>
      <p><strong>Method:</strong> Epic FHIR API for real-time data access</p>
      <p><strong>Frequency:</strong> Hourly sync for patient census updates</p>
      <p><strong>Data points:</strong></p>
      <ul>
        <li>Patient admissions/discharges</li>
        <li>Diagnosis codes (ICD-10)</li>
        <li>Planned procedures</li>
        <li>Patient demographics (age, weight for dosing calculations)</li>
      </ul>
    </div>

    <div class="tech-box">
      <h3>Omnicell Integration</h3>
      <p><strong>Purpose:</strong> Import medication usage and current inventory levels</p>
      <p><strong>Method:</strong> Omnicell REST API with OAuth authentication</p>
      <p><strong>Frequency:</strong> Real-time event-driven updates when medications dispensed</p>
      <p><strong>Data points:</strong></p>
      <ul>
        <li>Medication dispensing events</li>
        <li>Current inventory levels by medication</li>
        <li>Expiration dates for stock rotation</li>
        <li>Cabinet locations and par levels</li>
      </ul>
    </div>

    <div class="tech-box">
      <h3>Purchasing System Integration</h3>
      <p><strong>Purpose:</strong> Push order recommendations to procurement workflow</p>
      <p><strong>Method:</strong> Custom API endpoint receiving JSON recommendations</p>
      <p><strong>Frequency:</strong> Daily batch at 6 AM for review by 8 AM</p>
      <p><strong>Data output:</strong></p>
      <ul>
        <li>Medication ID and recommended quantity</li>
        <li>Confidence score for the recommendation</li>
        <li>Justification based on predicted demand</li>
      </ul>
    </div>
  </div>

  <!-- Data & Security -->
  <div class="content-section">
    <h2>üîí Data Management & Security</h2>
    
    <h3>Data Privacy & Compliance</h3>
    <ul>
      <li><strong>HIPAA compliance:</strong> All patient data encrypted, access logged and audited</li>
      <li><strong>De-identification:</strong> Patient identifiers removed from ML training data</li>
      <li><strong>Access control:</strong> Role-based permissions (pharmacy managers, IT, read-only)</li>
      <li><strong>Audit trail:</strong> All data access and model predictions logged</li>
    </ul>

    <h3>Data Quality Management</h3>
    <ul>
      <li><strong>Validation rules:</strong> Automated checks for data completeness and accuracy</li>
      <li><strong>Outlier detection:</strong> Flag unusual patterns for manual review</li>
      <li><strong>Data lineage:</strong> Track data sources and transformations</li>
      <li><strong>Quality metrics:</strong> Monitor data freshness, completeness, accuracy</li>
    </ul>

    <h3>Model Management</h3>
    <ul>
      <li><strong>Version control:</strong> Track model versions and performance over time</li>
      <li><strong>Retraining schedule:</strong> Monthly automated retraining with latest data</li>
      <li><strong>A/B testing:</strong> Compare new models against production before deployment</li>
      <li><strong>Monitoring:</strong> Track prediction accuracy and model drift</li>
    </ul>
  </div>

  <!-- Technical Dependencies -->
  <div class="content-section">
    <h2>‚öôÔ∏è Technical Dependencies & Requirements</h2>
    
    <h3>Infrastructure Requirements</h3>
    <ul>
      <li>AWS account with sufficient compute/storage quotas</li>
      <li>Network connectivity between hospital and AWS VPC</li>
      <li>SSL certificates for secure HTTPS connections</li>
    </ul>

    <h3>System Dependencies</h3>
    <ul>
      <li>Epic EHR version 2018 or later (for FHIR API support)</li>
      <li>Omnicell firmware v4.0+ (for REST API compatibility)</li>
      <li>Active Directory integration for user authentication</li>
    </ul>

    <h3>Support & Maintenance</h3>
    <ul>
      <li><strong>Internal IT team:</strong> Day-to-day support and monitoring</li>
      <li><strong>AWS support:</strong> Business-tier support plan ($100/month)</li>
      <li><strong>Documentation:</strong> Technical specs, user guides, troubleshooting</li>
      <li><strong>Training:</strong> IT staff training on system administration</li>
    </ul>
  </div>

  <!-- Workspace Divider -->
  <div class="workspace-divider">
    <h2><span aria-hidden="true">‚úèÔ∏è</span> Your Enhancement Analysis</h2>
    <p>Now that you've reviewed their technical architecture and integration plan, provide your critique below. What's missing? What needs strengthening?</p>
  </div>

  <!-- Analysis Cards -->
  <div class="analysis-card" id="card-architecture-gaps">
    <div class="analysis-header" onclick="toggleCard('architecture-gaps')" onkeypress="if(event.key=='Enter' || event.key==' ') toggleCard('architecture-gaps')" tabindex="0" role="button" aria-expanded="false">
      <h3>
        <span style="font-size: 24px; margin-right: 5px;" aria-hidden="true">üèóÔ∏è</span>
        Architecture Gaps - Enhancement Opportunities
      </h3>
      <span class="expand-icon">‚ñº</span>
    </div>
    <div class="analysis-body">
      <div>
        <label class="question-label"><span aria-hidden="true">‚úèÔ∏è</span> What's Missing from the Technical Architecture?</label>
        <div class="question-hint">Think about: disaster recovery, high availability, performance monitoring, logging, testing environments. What technical components or considerations are missing?</div>
        <textarea 
          class="text-input" 
          id="input-architecture-gaps"
          placeholder="Type your architecture gaps analysis here..."
          oninput="updateWordCount('architecture-gaps'); autoSave();"
        ></textarea>
        <div class="word-count" id="count-architecture-gaps">0 words</div>
      </div>
    </div>
  </div>

  <div class="analysis-card" id="card-integration-concerns">
    <div class="analysis-header" onclick="toggleCard('integration-concerns')" onkeypress="if(event.key=='Enter' || event.key==' ') toggleCard('integration-concerns')" tabindex="0" role="button" aria-expanded="false">
      <h3>
        <span style="font-size: 24px; margin-right: 5px;" aria-hidden="true">üîó</span>
        Integration Concerns - Enhancement Opportunities
      </h3>
      <span class="expand-icon">‚ñº</span>
    </div>
    <div class="analysis-body">
      <div>
        <label class="question-label"><span aria-hidden="true">‚úèÔ∏è</span> What Integration Risks or Gaps Need Addressing?</label>
        <div class="question-hint">Consider: API versioning, error handling, data consistency, integration testing, fallback mechanisms. What happens when integrations fail?</div>
        <textarea 
          class="text-input" 
          id="input-integration-concerns"
          placeholder="Type your integration concerns analysis here..."
          oninput="updateWordCount('integration-concerns'); autoSave();"
        ></textarea>
        <div class="word-count" id="count-integration-concerns">0 words</div>
      </div>
    </div>
  </div>

  <div class="analysis-card" id="card-technology-choices">
    <div class="analysis-header" onclick="toggleCard('technology-choices')" onkeypress="if(event.key=='Enter' || event.key==' ') toggleCard('technology-choices')" tabindex="0" role="button" aria-expanded="false">
      <h3>
        <span style="font-size: 24px; margin-right: 5px;" aria-hidden="true">‚öôÔ∏è</span>
        Technology Choices - Enhancement Opportunities
      </h3>
      <span class="expand-icon">‚ñº</span>
    </div>
    <div class="analysis-body">
      <div>
        <label class="question-label"><span aria-hidden="true">‚úèÔ∏è</span> Are the Technology Choices Well-Justified?</label>
        <div class="question-hint">Evaluate: Are these the right tools for the job? What alternatives should be considered? What about long-term maintainability? Are dependencies manageable?</div>
        <textarea 
          class="text-input" 
          id="input-technology-choices"
          placeholder="Type your technology choices analysis here..."
          oninput="updateWordCount('technology-choices'); autoSave();"
        ></textarea>
        <div class="word-count" id="count-technology-choices">0 words</div>
      </div>
    </div>
  </div>

  <!-- Additional Observations -->
  <div class="additional-observations">
    <h2><span aria-hidden="true">üìù</span> Additional Observations</h2>
    <p>Any other insights about the technology and integration plan:</p>
    <ul>
      <li>What about security vulnerabilities or compliance gaps?</li>
      <li>Is the data management strategy sufficient?</li>
      <li>What about technical debt and future scalability?</li>
      <li>Any other concerns or recommendations?</li>
    </ul>
    <textarea 
      class="text-input" 
      id="input-additional-observations"
      placeholder="Type any additional observations here..."
      oninput="updateWordCount('additional-observations'); autoSave();"
    ></textarea>
    <div class="word-count" id="count-additional-observations">0 words</div>
  </div>

  <!-- Navigation -->
  <div style="display: flex; justify-content: space-between; margin: 30px 0; padding: 20px; background: white; border: 2px solid #2B7A8A; border-radius: 8px;">
    <a href="section6_WORKING.html" style="padding: 12px 20px; background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%); color: #1F2937; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 14px; transition: all 0.3s;">‚Üê Previous</a>
    <a href="landing_page_WORKING.html" style="padding: 12px 20px; background: white; color: #2B7A8A; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 14px; border: 2px solid #2B7A8A; transition: all 0.3s;">‚åÇ Home</a>
    <a href="section8_WORKING.html" style="padding: 12px 20px; background: linear-gradient(135deg, #2B7A8A 0%, #1e5a66 100%); color: white; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 14px; transition: all 0.3s;">Next ‚Üí</a>
  </div>
  
  <!-- Progress Dots -->
  <nav aria-label="Section navigation" class="progress-dots">
    <a href="section1_WORKING.html" class="progress-dot" aria-label="Section 1: Problem Definition & Rationale"></a>
    <a href="section2_WORKING.html" class="progress-dot" aria-label="Section 2: Input Analysis"></a>
    <a href="section3_WORKING.html" class="progress-dot" aria-label="Section 3: Stakeholder Analysis"></a>
    <a href="section4_WORKING.html" class="progress-dot" aria-label="Section 4: Process Analysis"></a>
    <a href="section5_WORKING.html" class="progress-dot" aria-label="Section 5: Output & Value Analysis"></a>
    <a href="section6_WORKING.html" class="progress-dot" aria-label="Section 6: Risk Analysis"></a>
    <a href="section7_WORKING.html" class="progress-dot active" aria-label="Section 7: Technology & Integration" aria-current="page"></a>
    <a href="section8_WORKING.html" class="progress-dot" aria-label="Section 8: Overall Assessment"></a>
  </nav>

</div>

</main>

<!-- Sticky Footer -->
<div class="sticky-footer">
  <div class="footer-left">
    <div class="save-status saved" id="save-status" role="status" aria-live="polite" aria-atomic="true">
      <span aria-hidden="true">üíæ</span>
      <span id="save-text">All changes saved</span>
    </div>
    <div class="total-word-count" role="status" aria-live="polite">
      Total: <strong id="total-words">0</strong> words
    </div>
    <div class="section-progress" role="status" aria-live="polite">
      Section 7: <strong id="section-progress">0/3</strong> questions complete
    </div>
  </div>
  <button class="download-btn" onclick="downloadWord()">
    <span aria-hidden="true">üìÑ</span> Download Word Doc
  </button>
</div>

<script>
  function toggleCard(id) {
    const card = document.getElementById('card-' + id);
    card.classList.toggle('expanded');
    
    if (card.classList.contains('expanded')) {
      setTimeout(() => {
        card.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }, 100);
    }
  }

  function updateWordCount(id) {
    const input = document.getElementById('input-' + id);
    const counter = document.getElementById('count-' + id);
    const text = input.value.trim();
    const words = text === '' ? 0 : text.split(/\s+/).length;
    counter.textContent = words + ' word' + (words !== 1 ? 's' : '');
    
    updateTotalWordCount();
    updateSectionProgress();
  }

  function updateTotalWordCount() {
    const allInputs = document.querySelectorAll('.text-input');
    let total = 0;
    allInputs.forEach(input => {
      const text = input.value.trim();
      if (text !== '') {
        total += text.split(/\s+/).length;
      }
    });
    document.getElementById('total-words').textContent = total;
  }

  function updateSectionProgress() {
    const questions = ['architecture-gaps', 'integration-concerns', 'technology-choices'];
    let completed = 0;
    
    questions.forEach(q => {
      const input = document.getElementById('input-' + q).value.trim();
      if (input !== '') {
        completed++;
      }
    });
    
    document.getElementById('section-progress').textContent = completed + '/3';
  }

  let saveTimeout;
  function autoSave() {
    clearTimeout(saveTimeout);
    
    const saveStatus = document.getElementById('save-status');
    const saveText = document.getElementById('save-text');
    saveStatus.classList.remove('saved');
    saveText.textContent = 'Saving...';
    
    saveTimeout = setTimeout(() => {
      const data = {
        architectureGaps: document.getElementById('input-architecture-gaps').value,
        integrationConcerns: document.getElementById('input-integration-concerns').value,
        technologyChoices: document.getElementById('input-technology-choices').value,
        additionalObservations: document.getElementById('input-additional-observations').value
      };
      
      localStorage.setItem('medpredict_section7', JSON.stringify(data));
      
      saveStatus.classList.add('saved');
      saveText.textContent = 'All changes saved';
    }, 1000);
  }

  function loadSavedData() {
    const saved = localStorage.getItem('medpredict_section7');
    if (saved) {
      const data = JSON.parse(saved);
      document.getElementById('input-architecture-gaps').value = data.architectureGaps || '';
      document.getElementById('input-integration-concerns').value = data.integrationConcerns || '';
      document.getElementById('input-technology-choices').value = data.technologyChoices || '';
      document.getElementById('input-additional-observations').value = data.additionalObservations || '';
      
      updateWordCount('architecture-gaps');
      updateWordCount('integration-concerns');
      updateWordCount('technology-choices');
      updateWordCount('additional-observations');
    }
  }

  function downloadWord() {
    alert('Download functionality will be implemented. This will generate a Word document with all your analysis from all 8 sections.');
  }

  window.addEventListener('load', function() {
    loadSavedData();
  });
</script>

</body>
</html>